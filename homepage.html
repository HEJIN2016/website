<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta author="hejin">
	<title>fastRender主页</title>
<!-- <link rel="stylesheet" type="text/css" href="lib/css/jquery-ui.min.css"> -->
	<link href="themes/default/css/umeditor.css" type="text/css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/editor.css">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/home.css">
	<link rel="stylesheet" type="text/css" href="font/iconfont.css">
<<<<<<< HEAD
	<link rel="stylesheet" type="text/css" href="css/bootstrap-table.min.css">
=======
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.css">
>>>>>>> d20d99af5d440f1c58178ef3a842ebab86e7d6ac
</head>
<body>
	<nav class="nav-bar">
	    <img class="logo" src="img/render-logo.png">
	    <ul class="nav-right">
	        <li>
	            <a href="">帮助</a>
	            <i class="iconfont icon-bangzhu"></i>
	        </li>
	        <li>
	            <a href="">下载</a>
	            <i class="iconfont icon-xiazai"></i>
	        </li>
	        <li class="user">
	            <a href="javascript:;">admin</a>
	            <i class="iconfont icon-arrowdown"></i>
	            <ul class="userlist">
	            	<li>
	            		<a href="info.html">个人信息</a>
	            	</li>
	            	<li>
	            		<a href="changePass.html">修改密码</a>
	            	</li>
	            	<li>
	            		<a href="login.html">注销账号</a>
	            	</li>
	            </ul>
	        </li>
	        <li>
	            <a href="javascript:;" class="peeling" >换肤
	            </a>
	            <i class="iconfont icon-skin"></i>
	            <ul class="bgcolor">
	            	<li>
	            		<a href="javascript:;">蓝色（默认）</a></li>
	            	<li><a href="javascript:;">绿色</a></li>
	            	<li><a href="javascript:;">黑色</a></li>
	            	<li><a href="javascript:;">红色</a></li>
	            </ul>
	        </li>
	    </ul>
	    <div class="clear"></div>
	</nav>

	<aside class="menu">
		<div class="personal">
			<img src="img/people.jpg">
			<span>管理员</span>
		</div>
		<ul class="menu-list">
			<li>
				<div class="slidebar">
				    <i class="iconfont icon-weibiaoti1fuzhi03"></i>
				    <span>新闻管理</span>
				    <i class="iconfont icon-arrowdown"></i>
				</div>
				<ul>
					<li>
						<a href="#">查看新闻</a>
					</li>
					<li>
						<a href="#">添加新闻</a>
					</li>
				</ul>
			</li>
			<li>
				<div class="slidebar">
				    <i class="iconfont icon-zhanghao"></i>
				    <span>账户管理</span>
				    <i class="iconfont icon-arrowdown"></i>
			    </div>
				<ul>
					<li>
						<a href="#">修改密码</a>
					</li>
					<li>
						<a href="#">添加账号</a>
					</li>
				</ul>
			</li>
			<li>
				<div class="slidebar">
					<i class="iconfont icon-liuyan"></i>
					<span>查看留言</span>
				</div>
			</li>
		</ul>
	</aside>

	<div class="center-page">
		<div class="nav">
			<i class="iconfont icon-shouyexian"></i>
			<span>首页 > 新闻管理</span>
		</div>
		<div class="select-text">
			<div class="button-area">
				<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#delete-many-news">
					<i class="iconfont icon-shanchu"></i>批量删除
				</button>
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#add-news">
					<i class="iconfont icon-tianjia"></i>新增新闻
				</button>
			</div>
			<!--<span>日期范围</span>-->
			<!--<input type="text"  id="start-date" class="date">-->
			<!--<span> - </span>-->
			<!--<input type="text" id="end-date" class="date">-->
			<!--<input type="text" placeholder="输入子账号账户名或手机号码" id="input-text">-->
			<!--<button class="btn btn-success search"><i class="iconfont icon-sousuo"></i>搜用户</button>-->
		</div>

		<div class="data-text">
<<<<<<< HEAD
			<table data-toggle="table"  data-pagination="true"   id="news-table">
=======
			<table data-toggle="table"    id="news-table">
>>>>>>> d20d99af5d440f1c58178ef3a842ebab86e7d6ac

			</table>

			<!--<div class="table-info">-->
				<!--<div class="number-info">-->
					<!--显示1到-->
					<!--<span class="total">6</span>-->
					<!--,共-->
					<!--<span class="total">10</span>-->
					<!--条-->
				<!--</div>-->

				<!--<div class="turn-page">-->
					<!--<ul class="pagination">-->
						<!--<li><a href="#">上一页</a></li>-->
						<!--<li><a href="#">1</a></li>-->
						<!--<li><a href="#">2</a></li>-->
						<!--<li><a href="#">3</a></li>-->
						<!--<li><a href="#">4</a></li>-->
						<!--<li><a href="#">5</a></li>-->
						<!--<li><a href="#">下一页</a></li>-->
					<!--</ul>-->
				<!--</div>6-->
			<!--</div>-->
		</div>
	</div>
</body>

	<!-- 编辑新闻模态框-->
	<div class="modal fade" id="editor-news" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog" style="width: 1030px">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
						&times;
					</button>
					<h4 class="modal-title">
						编辑新闻
					</h4>
				</div>

				<div class="modal-body">
					<!--style给定宽度可以影响编辑器的最终宽度-->
					<script type="text/plain" id="myEditor" style="width:1000px;height:240px">
						<p></p>
					</script>


					<div class="clear"></div>
						</div>

						<div class="modal-footer">
						<button type="button" class="btn btn-primary">
						确认
						</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">关闭
						</button>
						</div>
						</div><!-- /.modal-content -->
						</div>
						</div>

<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<<<<<<< HEAD
<script src="js/bootstrap-table.min.js"></script>
<script src="js/home.js"></script>
<script src="js/all.js"></script>
=======
<!-- Latest compiled and minified JavaScript -->
<!--<script src="js/bootstrap-table.min.js"></script>-->
<script src="js/bootstrap-table.js"></script>
<script src="js/home.js"></script>
<script src="js/all.js"></script>
<<<<<<< HEAD:homepage.php
<!--<script src="third-party/template.min.js"></script>-->
<!--<script charset="utf-8" src="umeditor.config.js"></script>-->
<!--<script charset="utf-8" src="umeditor.min.js"></script>-->
<!--<script src="lang/zh-cn/zh-cn.js"></script>-->
<!--<script src="js/editor.js"></script>-->
=======
>>>>>>> d20d99af5d440f1c58178ef3a842ebab86e7d6ac
<script type="text/javascript" src="js/home.js"></script>
<script type="text/javascript" src="third-party/template.min.js"></script>
<script type="text/javascript" charset="utf-8" src="umeditor.config.js"></script>
<script type="text/javascript" charset="utf-8" src="umeditor.min.js"></script>
<script type="text/javascript" src="lang/zh-cn/zh-cn.js"></script>
<<<<<<< HEAD
<script>
    var newsObject;
    $.ajax({
		url: 'data.php',
		methods: 'POST',
        async: false
    })
		.done(function(data){
=======
>>>>>>> parent of 2c89f3c... editor:homepage.html
<script>
    var newsObject;
    var datas;
    $.ajax({
        url: 'data.php',
        type: 'POST',
        async: false
    })
        .done(function(data){
>>>>>>> d20d99af5d440f1c58178ef3a842ebab86e7d6ac
            newsObject = jQuery.parseJSON(data);
            for(var i = 0;i < arrayCount(newsObject);i++){
                newsObject[i].firstline = getString(newsObject[i].firstline,15) + '...';
            }
            datas = $.parseJSON(JSON.stringify(newsObject));
<<<<<<< HEAD
		})
		.fail(function(){
		    console.log('error!');
		});

    $("#news-table").bootstrapTable({
		height: 441,
=======
            console.log('success');
        })
        .fail(function(){
            console.log('error!');
        });

    $("#news-table").bootstrapTable({
<<<<<<< HEAD:homepage.php
=======
		height: 441,
>>>>>>> parent of 2c89f3c... editor:homepage.html
>>>>>>> d20d99af5d440f1c58178ef3a842ebab86e7d6ac
        columns:[{
            field: 'state',
			checkbox: true
		},{
            field: 'number',
            title: '编号',
<<<<<<< HEAD
			align: 'center'
=======
			align: 'center',
            width: 48
>>>>>>> d20d99af5d440f1c58178ef3a842ebab86e7d6ac
        },{
            field: 'title',
            title: '标题'
        },{
            field: 'time',
            title: '时间',
            align: 'center'
        },{
            field: 'author',
            title: '作者',
            align: 'center'
        },{
            field: 'firstline',
            title: '内容',
            align: 'center'
        },{
            field: 'opt',
            title: '操作',
			align: 'center',
			formatter: function(value,row,index){
<<<<<<< HEAD
                return ['<a href="javascript:" title="编辑" data-toggle="modal" data-target="#editor-news"><i class="iconfont icon-bianji"></i></a>\n','<a href="javascript:" title="删除" data-toggle="modal" data-target="#delete-news"><i class="iconfont icon-shanchu"></i></a>'].join('');
=======
<<<<<<< HEAD:homepage.php
                return ['<a href="#"  class="editor" title="编辑" data-toggle="modal" data-target="#editor-news"><i class="iconfont icon-bianji"></i></a>\n','<a href="#" title="删除" data-toggle="modal" data-target="#delete-news" class="delete"><i class="iconfont icon-shanchu"></i></a>'].join('');
=======
                return ['<a href="javascript:" title="编辑" data-toggle="modal" data-target="#editor-news"><i class="iconfont icon-bianji"></i></a>\n','<a href="javascript:" title="删除" data-toggle="modal" data-target="#delete-news"><i class="iconfont icon-shanchu"></i></a>'].join('');
>>>>>>> parent of 2c89f3c... editor:homepage.html
>>>>>>> d20d99af5d440f1c58178ef3a842ebab86e7d6ac
			}
		}],
        data: datas
    });

    //实例化编辑器
    var um = UM.getEditor('myEditor');
    um.addListener('blur',function(){
        $('#focush2').html('编辑器失去焦点了')
    });
    um.addListener('focus',function(){
        $('#focush2').html('')
    });
    //按钮的操作
    function insertHtml() {
        var value = prompt('插入html代码', '');
        um.execCommand('insertHtml', value)
    }
    function isFocus(){
        alert(um.isFocus())
    }
    function doBlur(){
        um.blur()
    }
    function createEditor() {
        enableBtn();
        um = UM.getEditor('myEditor');
    }
    function getAllHtml() {
        alert(UM.getEditor('myEditor').getAllHtml())
    }
    function getContent() {
        var arr = [];
        arr.push("使用editor.getContent()方法可以获得编辑器的内容");
        arr.push("内容为：");
        arr.push(UM.getEditor('myEditor').getContent());
        alert(arr.join("\n"));
    }
    function getPlainTxt() {
        var arr = [];
        arr.push("使用editor.getPlainTxt()方法可以获得编辑器的带格式的纯文本内容");
        arr.push("内容为：");
        arr.push(UM.getEditor('myEditor').getPlainTxt());
        alert(arr.join('\n'))
    }
    function setContent(isAppendTo) {
        var arr = [];
        arr.push("使用editor.setContent('欢迎使用umeditor')方法可以设置编辑器的内容");
        UM.getEditor('myEditor').setContent('欢迎使用umeditor', isAppendTo);
        alert(arr.join("\n"));
    }
    function setDisabled() {
        UM.getEditor('myEditor').setDisabled('fullscreen');
        disableBtn("enable");
    }

    function setEnabled() {
        UM.getEditor('myEditor').setEnabled();
        enableBtn();
    }

    function getText() {
        //当你点击按钮时编辑区域已经失去了焦点，如果直接用getText将不会得到内容，所以要在选回来，然后取得内容
        var range = UM.getEditor('myEditor').selection.getRange();
        range.select();
        var txt = UM.getEditor('myEditor').selection.getText();
        alert(txt)
    }

    function getContentTxt() {
        var arr = [];
        arr.push("使用editor.getContentTxt()方法可以获得编辑器的纯文本内容");
        arr.push("编辑器的纯文本内容为：");
        arr.push(UM.getEditor('myEditor').getContentTxt());
        alert(arr.join("\n"));
    }
    function hasContent() {
        var arr = [];
        arr.push("使用editor.hasContents()方法判断编辑器里是否有内容");
        arr.push("判断结果为：");
        arr.push(UM.getEditor('myEditor').hasContents());
        alert(arr.join("\n"));
    }
    function setFocus() {
        UM.getEditor('myEditor').focus();
    }
    function deleteEditor() {
        disableBtn();
        UM.getEditor('myEditor').destroy();
    }
    function disableBtn(str) {
        var div = document.getElementById('btns');
        var btns = domUtils.getElementsByTagName(div, "button");
        for (var i = 0, btn; btn = btns[i++];) {
            if (btn.id == str) {
                domUtils.removeAttributes(btn, ["disabled"]);
            } else {
                btn.setAttribute("disabled", "true");
            }
        }
    }
    function enableBtn() {
        var div = document.getElementById('btns');
        var btns = domUtils.getElementsByTagName(div, "button");
        for (var i = 0, btn; btn = btns[i++];) {
            domUtils.removeAttributes(btn, ["disabled"]);
        }
    }
</script>

<!-- 批量删除新闻模态框（Modal） -->
<div class="modal fade" id="delete-many-news" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="width: 240px">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					&times;
				</button>
				<h4 class="modal-title">
					删除新闻
				</h4>
			</div>
			<div class="modal-body">
				<div class="change-personal-psd">
					确定要删除这些新闻吗？
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary">
					确认
				</button>
				<button type="button" class="btn btn-default" data-dismiss="modal">关闭
				</button>
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal -->
</div>
<!-- 删除新闻模态框（Modal） -->
<div class="modal fade" id="delete-news" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" style="width: 240px">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					&times;
				</button>
				<h4 class="modal-title">
					删除新闻
				</h4>
			</div>
			<div class="modal-body">
				<div class="change-personal-psd">
					确定要删除该新闻吗？
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary">
					确认
				</button>
				<button type="button" class="btn btn-default" data-dismiss="modal">关闭
				</button>
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal -->
</div>
</html>